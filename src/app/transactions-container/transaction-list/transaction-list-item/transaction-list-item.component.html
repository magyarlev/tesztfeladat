<div ngbAccordion class="accordion">
  <div ngbAccordionItem>
    <div ngbAccordionHeader class="accordion-header">
      <div class="expand-btn">
        <button
          class="id-extension-btn"
          (click)="toggleIdExpensionBtn()"
          [ngClass]="{
            expanded: idExtensionBtnExpanded,
          }"
        >
          <img
            src="extension arrow.png"
            [ngClass]="{
              'long-id': hasLongId
            }"
            alt="extension arrow"
          />
        </button>
      </div>
      <div class="indicator-mobile-wrapper">
        <div class="indicator-mobile" [ngClass]="payment().status"></div>
      </div>
      <div class="details-group">
        <div
          class="transaction-id"
          [ngClass]="{ expanded: idExtensionBtnExpanded }"
        >
          <span
            class="id-text"
            [ngClass]="{
              collapsed: !idExtensionBtnExpanded
            }"
            #transactionId
          >
            {{ payment().id }}
          </span>
        </div>
        <div class="method">
          <span [ngClass]="{ hidden: idExtensionBtnExpanded }">{{
            payment().method
          }}</span>
        </div>
        <div class="date">
          <span class="date-mobile">FizetÃ©si dÃ¡tum:</span>
          <span>{{ payment().date }}</span>
          <div class="paperclip-mobile">
            @if (payment().attachment) {
            <a href="#" onclick="return false"
              ><img src="paperclip.png" alt="paperclip"
            /></a>
            }
          </div>
        </div>
        <div class="amount">{{ payment().amount }}</div>
        <div class="status">
          <div class="indicator" [ngClass]="payment().status"></div>
          {{ payment().status }}
        </div>
        <div class="paperclip">
          @if(payment().attachment) {
          <a href="#" onclick="return false"
            ><img src="paperclip.png" alt="paperclip"
          /></a>
          }
        </div>
      </div>

      <button class="toggle-btn" ngbAccordionButton></button>
    </div>
    <div ngbAccordionCollapse>
      <div ngbAccordionBody>
        <ng-template>
          <app-item-details [payment]="payment()"></app-item-details>
        </ng-template>
      </div>
    </div>
  </div>
</div>
